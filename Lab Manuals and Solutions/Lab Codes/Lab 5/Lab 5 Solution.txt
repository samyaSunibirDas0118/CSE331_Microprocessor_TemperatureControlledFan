; LAB5 TASK1
------------
INCLUDE "EMU8086.INC"

.MODEL SMALL
.STACK 100H
.DATA
      MSG DB "ENTER TWO NUMBERS: ", 0 ;NULL
.CODE
      MOV AX, @DATA
      MOV DS, AX

      LEA SI, MSG
     ;LOAD ADDRESS OF MSG IN SI
     
     ;PROMPTS THE USER 
      CALL PRINT_STRING
      PRINTN  
      
     ;TAKING 1ST INPUT 
      CALL SCAN_NUM
      MOV AX, CX      ;1ST INPUT IN AX  
      PRINTN
      
     ;TAKING 2ND INPUT 
      CALL SCAN_NUM   
      MOV BX, CX      ;2ND INPUT IN BX
      PRINTN
     
     ;FINDING THE DIFFERENCE 
      SUB AX, BX
      PRINT "DIFFERENCE "
      CALL PRINT_NUM  ;PRINTS THE RESULT,THAT IS IN AX
           
EXIT: 
      MOV AH, 4CH
      INT 21H             

;DEFINING PROCEDURES
DEFINE_PRINT_STRING  
DEFINE_SCAN_NUM
DEFINE_PRINT_NUM
DEFINE_PRINT_NUM_UNS
END

; LAB5 TASK2
------------
INCLUDE "EMU8086.INC"

.MODEL SMALL
.STACK 100H
.DATA
.CODE

;FOR FIBONACCI WE KNOW,
;FIB(N) = FIB(N-1) + FIB(N-2)

      PRINTN "FIBONACCI SEQUENCE UPTO 15TH TERM: "
      
      ;PRINTING FIRST 2 TERMS
      MOV AX, 0   
      CALL PRINT_NUM 
      PUTC ' '   ;PRINTS SPACE
      MOV AX, 1  
      CALL PRINT_NUM
      PUTC ' '   ;PRINTS SPACE
      
      MOV AX, 0  ;1ST TERM
      MOV BX, 1  ;2ND TERM  
      MOV DX, 0
      
;1ST & 2ND TERMS ARE ALREADY KNOWN
;SO WE NEED TO FIND 13 MORE TERMS
      MOV CX, 13 ;S0, CX IS SET TO 13
      
REPEAT:
;WE GET THE NEXT TERM BY ADDING PREVIOUS 2 TERMS
      
      ADD AX, BX ;FIB(N) IN AX
      CALL PRINT_NUM
      PUTC ' '   ;PRINTS SPACE
      
      MOV DX, AX ;COPY AX INTO DX 
      MOV AX, BX ;FOR NEXT FIB(N), FIB(N-2) IN AX
      MOV BX, DX ;FOR NEXT FIB(N), FIB(N-1) IN BX
LOOP REPEAT     

EXIT: 
      MOV AH, 4CH
      INT 21H             

;DEFINING PROCEDURES  
DEFINE_PRINT_NUM
DEFINE_PRINT_NUM_UNS
END     ;DIRECTIVE TO STOP COMPILER